Jaqy Console 1.0
-- 0/0 - 0 ----------------------------------------------------------------
--------------------------------------------------------------------------
-- .import csv command test
--------------------------------------------------------------------------
.run ../common/postgresql_setup.sql
-- Running script: ../common/postgresql_setup.sql
-- 0/1 - 0 ----------------------------------------------------------------
.open -u postgres postgresql://localhost/?stringtype=unspecified
-- 0/2 - 0 ----------------------------------------------------------------

.import csv -h lib/sin.csv
-- 0/3 - 0 ----------------------------------------------------------------
.importschema
Column Type       Nullable
------ ---------- --------
x      float8     No
sin(x) float8     No
id     int4       No
hex    varchar(3) No
hex2   bpchar(4)  No
-- 0/4 - 0 ----------------------------------------------------------------
.importtable SinTable
-- Table Schema --
CREATE TABLE SinTable
(
	"x" float8 NOT NULL,
	"sin(x)" float8 NOT NULL,
	"id" int4 NOT NULL,
	"hex" varchar(3) NOT NULL,
	"hex2" bpchar(4) NOT NULL
)
-- success. update count = 0
-- INSERTION --
INSERT INTO SinTable VALUES (?,?,?,?,?)
-- 2/5 - 0 ----------------------------------------------------------------
.desc -s SinTable
CREATE TABLE SinTable
(
	"x" float8 NOT NULL,
	"sin(x)" float8 NOT NULL,
	"id" int4 NOT NULL,
	"hex" varchar(3) NOT NULL,
	"hex2" bpchar(4) NOT NULL
)
-- 2/6 - 0 ----------------------------------------------------------------

SELECT COUNT(*), min(x), max(x) FROM SinTable;
-- success --
count min  max
----- --- ----
 1051   0 10.5
-- activity count = 1
-- 3/6 - 0 ----------------------------------------------------------------
DROP TABLE SinTable;
-- success. update count = 0
-- 4/6 - 0 ----------------------------------------------------------------

.close
-- 4/7 - 0 ----------------------------------------------------------------
