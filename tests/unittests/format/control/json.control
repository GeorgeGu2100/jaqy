Teradata Jaqy Console 1.0
-- 0/0 - 0 ----------------------------------------------------------------
--------------------------------------------------------------------------
-- .format json test
--------------------------------------------------------------------------
.run ../common/sqlite_setup.sql
-- Running script: ../common/sqlite_setup.sql
-- 0/1 - 0 ----------------------------------------------------------------
.echo off
-- 0/2 - 0 ----------------------------------------------------------------
-- 0/3 - 0 ----------------------------------------------------------------
-- 0/4 - 0 ----------------------------------------------------------------
.open sqlite::memory:
-- 0/5 - 0 ----------------------------------------------------------------

CREATE TABLE MyTable(a INTEGER PRIMARY KEY, b VARCHAR(200), c VARCHAR(200));
-- success. update count = 0
-- 1/5 - 0 ----------------------------------------------------------------

INSERT INTO MyTable VALUES (1, 'abc', 'def');
-- success. update count = 1
-- 2/5 - 0 ----------------------------------------------------------------
INSERT INTO MyTable VALUES (2, 'john', 'doe');
-- success. update count = 1
-- 3/5 - 0 ----------------------------------------------------------------
INSERT INTO MyTable VALUES (3, 'a"b', 'c"d');
-- success. update count = 1
-- 4/5 - 0 ----------------------------------------------------------------
INSERT INTO MyTable VALUES (4, 'a,b', 'c,d');
-- success. update count = 1
-- 5/5 - 0 ----------------------------------------------------------------
INSERT INTO MyTable VALUES (5, 'a''b', 'c''d');
-- success. update count = 1
-- 6/5 - 0 ----------------------------------------------------------------
INSERT INTO MyTable VALUES (6, 'a''",b', 'c''",d');
-- success. update count = 1
-- 7/5 - 0 ----------------------------------------------------------------
INSERT INTO MyTable VALUES (7, 'a	b', 'c,d');
-- success. update count = 1
-- 8/5 - 0 ----------------------------------------------------------------

.format json
-- 8/6 - 0 ----------------------------------------------------------------
SELECT * FROM MyTable ORDER BY a;
-- success --
[ {
  "a" : 1,
  "b" : "abc",
  "c" : "def"
}, {
  "a" : 2,
  "b" : "john",
  "c" : "doe"
}, {
  "a" : 3,
  "b" : "a\"b",
  "c" : "c\"d"
}, {
  "a" : 4,
  "b" : "a,b",
  "c" : "c,d"
}, {
  "a" : 5,
  "b" : "a'b",
  "c" : "c'd"
}, {
  "a" : 6,
  "b" : "a'\",b",
  "c" : "c'\",d"
}, {
  "a" : 7,
  "b" : "a\tb",
  "c" : "c,d"
} ]
-- activity count = 7
-- 9/6 - 0 ----------------------------------------------------------------
.format json -p off
-- 9/7 - 0 ----------------------------------------------------------------
SELECT * FROM MyTable ORDER BY a;
-- success --
[{"a":1,"b":"abc","c":"def"},{"a":2,"b":"john","c":"doe"},{"a":3,"b":"a\"b","c":"c\"d"},{"a":4,"b":"a,b","c":"c,d"},{"a":5,"b":"a'b","c":"c'd"},{"a":6,"b":"a'\",b","c":"c'\",d"},{"a":7,"b":"a\tb","c":"c,d"}]
-- activity count = 7
-- 10/7 - 0 ---------------------------------------------------------------
